<template><!--<view class="sort">--><!--  <view class="sort__item">人气</view>--><!--  <view class="sort__item">销量</view>--><!--  <view class="sort__item">价格</view>--><!--</view>-->  <view class="sort">    <view v-for="item in ['人气', '销量', '价格']" :key="item"          @click="changeSort(item)"          :class="{ active: currentSort === item, sort__price: item === '价格'}"    >      {{ item }}      <template v-if="item === '价格'">        <view class="sort__price__container" :class="presentPriceClass">          <view class="sort__price__upIcon"></view>          <view class="sort__price__downIcon"></view>        </view>      </template>    </view>  </view></template><script>import {ref} from 'vue';export default {  name: "sort",  emits: ['sortClick'],  setup(props, context) {    const currentSort = ref("人气")    const presentPriceClass = ref(null)    let sort = 'tk_total_sales'    // 又要改样式，又要改排序的方式，还要重置页码，乱乱乱1    const changeSort = function (sortStr) {      if (sortStr === '价格') {        if (presentPriceClass.value === null) {          currentSort.value = sortStr          sort = 'price_asc'          presentPriceClass.value = 'sort__price__up'        } else if (presentPriceClass.value === 'sort__price__down') {          presentPriceClass.value = 'sort__price__up'          sort = 'price_asc'        } else if (presentPriceClass.value === 'sort__price__up') {          presentPriceClass.value = 'sort__price__down'          sort = 'price_des'        }      } else if (currentSort.value === sortStr) {        return;      } else {        currentSort.value = sortStr        presentPriceClass.value = null        if (sortStr === "销量") {          sort = 'total_sales_des'        } else if (sortStr === "人气") {          sort = 'tk_total_sales_des'        }      }      context.emit("sortClick", sort)    }    return {      currentSort,      presentPriceClass,      changeSort    }  }}</script><style scoped lang="scss">.sort {  display: flex;  flex-wrap: nowrap;  justify-content: space-around;  align-items: center;  font-size: 24rpx;  color: #646566;  height: 80rpx;  width: 100%;  background: #ffffff;  z-index: 1;  .active {    color: rgb(254, 55, 56);    transition: all 1s ease-out;  }  &__price {    display: flex;    justify-content: space-around;    align-items: center;    &__container {      margin-left: 10rpx;      display: flex;      flex-direction: column;      justify-content: space-around;      align-items: center;      height: 30rpx;    }    &__down &__downIcon{      border-top-color: black;    }    &__up &__upIcon {      border-bottom-color: black;    }    &__upIcon{      border-bottom: 12rpx solid #d8d8d8;      border-left: 10rpx solid transparent;      border-right: 10rpx solid transparent;      transition: all .6s ease-out;    }    &__downIcon{      border-top: 12rpx solid #d8d8d8;      border-left: 10rpx solid transparent;      border-right: 10rpx solid transparent;      transition: all .6s ease-out;    }  }}</style>