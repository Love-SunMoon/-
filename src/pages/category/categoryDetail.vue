<template><view class="head">  <titles>{{ title }}</titles>  <sort @sortClick="handleSort"></sort></view>  <view style="height: 180rpx"></view>  <goods-item class="goods" :data="data"></goods-item>  <scroll-top></scroll-top></template><script>import { onLoad, onPageScroll } from '@dcloudio/uni-app';import titles from '../basic/title'import sort from "../common/sort.vue";import { getSearchItem } from '../../network/requests';import { ref } from 'vue';import {handleDataCache, handleRequests, scrollToLowerLoad} from '../../static/common'import goodsItem from '../common/goodsItem';import ScrollTop from '../basic/scrollTop';export default {  name: "categoryDetail",  components: {    ScrollTop,    sort,    goodsItem,    titles  },  setup( props, context) {    let params = { material_id: 17004, q: '', has_coupon: true, sort: 'tk_total_sales_des', page_no: 1 }    const title = ref('')    onLoad((option) => {      title.value = option.title      params.cat = option.cat      params.q = option.q      getData()    })    const noMore = ref(false)    const data = ref([])    const getData = function () {      handleRequests(getSearchItem, params, noMore, data)      params.page_no += 1    }    const handleSort = function (str) {      params.sort = str      handelCache(str)    }    const handelCache = handleDataCache(data, params.sort, getData, params, "page_no")    scrollToLowerLoad(".goods", getData, 84)    return {      title,      handleSort,      data    }  }}</script><style scoped lang="scss">.head {  position: fixed;  width: 100%;  z-index: 300;}#goods {}</style>