<template><view class="head">  <titles>{{ title }}</titles>  <sort @sortClick="handleSort"></sort></view>  <goods-item id="goods" :data="data"></goods-item>  <scroll-top></scroll-top></template><script>import titles from '../basic/title'import sort from "../common/sort.vue";import { getSearchItem } from '../../network/requests';import { ref } from 'vue';import {handleDataCache, handleRequests, scrollToLowerLoad} from '../../static/common'import goodsItem from '../common/goodsItem';import ScrollTop from '../basic/scrollTop';export default {  name: "categoryDetail",  components: {    ScrollTop,    sort,    goodsItem,    titles  },  setup( props, context) {    let title = props.title    let params = { material_id: 17004, q: '', has_coupon: true, sort: 'tk_total_sales_des', page_no: 1 }    params.cat = props.cat    params.q = props.q    const noMore = ref(false)    const data = ref([])    const getData = function () {      handleRequests(getSearchItem, params, noMore, data)      params.page_no += 1    }    getData()    const handleSort = function (str) {      params.sort = str      handelCache(str)    }    const handelCache = handleDataCache(data, params.sort, getData, params, "page_no")    scrollToLowerLoad("#goods", getData, 84)    return {      title,      handleSort,      data    }  }}</script><style scoped lang="scss">.head {  position: fixed;  width: 100%;  z-index: 300;}#goods {  padding-top: 170rpx;}</style>